<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.5.2" />
<title>grml-debootstrap(8)</title>
<style type="text/css">
/* Debug borders */
p, li, dt, dd, div, pre, h1, h2, h3, h4, h5, h6 {
/*
  border: 1px solid red;
*/
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

tt {
  color: navy;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  font-family: sans-serif;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}

div.sectionbody {
  font-family: serif;
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}

pre {
  padding: 0;
  margin: 0;
}

span#author {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  font-size: 1.1em;
}
span#email {
}
span#revnumber, span#revdate, span#revremark {
  font-family: sans-serif;
}

div#footer {
  font-family: sans-serif;
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
div#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
div#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

div#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.tableblock, div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #dddddd;
  color: #777777;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > div.content {
  white-space: pre;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-family: sans-serif;
  font-weight: bold;
}
tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}


@media print {
  div#footer-badges { display: none; }
}

div#toc {
  margin-bottom: 2.5em;
}

div#toctitle {
  color: #527bbd;
  font-family: sans-serif;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}
/* Workarounds for IE6's broken and incomplete CSS2. */

div.sidebar-content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}
div.sidebar-title, div.image-title {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  margin-top: 0.0em;
  margin-bottom: 0.5em;
}

div.listingblock div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock-attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock-content {
  white-space: pre;
}
div.verseblock-attribution {
  padding-top: 0.75em;
  text-align: left;
}

div.exampleblock-content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

/* IE6 sets dynamically generated links as visited. */
div#toc a:visited { color: blue; }
</style>
<script type="text/javascript">
/*<![CDATA[*/
window.onload = function(){asciidoc.footnotes();}
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([2-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  var cont = document.getElementById("content");
  var noteholder = document.getElementById("footnotes");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      // Use [\s\S] in place of . so multi-line matches work.
      // Because JavaScript has no s (dotall) regex flag.
      note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      spans[i].innerHTML =
        "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
        "' title='View footnote' class='footnote'>" + n + "</a>]";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
}

}
/*]]>*/
</script>
</head>
<body>
<div id="header">
<h1>grml-debootstrap(8)</h1>
</div>
<div id="content">
<h2 id="_name">Name</h2>
<div class="sectionbody">
<div class="paragraph"><p>grml-debootstrap - wrapper around debootstrap for installing plain Debian via grml</p></div>
</div>
<h2 id="_synopsis">Synopsis</h2>
<div class="sectionbody">
<div class="paragraph"><p>grml-debootstrap [ <em>options</em> ]</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/screenshot.png" alt="Screenshot" />
</span></p></div>
</div>
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>grml-debootstrap is a wrapper suite around debootstrap (and cdebootstrap if you
want) for installing a plain Debian system via grml very fast and easy.</p></div>
<div class="paragraph"><p>All you have to do is adjust a few variables in configuration file
/etc/debootstrap/config (or specify some variables via commandline) and invoke
grml-debootstrap without any further options then.</p></div>
<div class="paragraph"><p>A plain and base Debian system will be installed on the given device (or
directory) then. Customization of this process is possible as well.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/caution.png" alt="Caution" />
</td>
<td class="content">The grml team does not take responsibility for loss of any data!</td>
</tr></table>
</div>
</div>
<h2 id="_options_and_environment_variables">Options and environment variables</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>--arch</strong> &lt;_architecture_&gt;
</dt>
<dd>
<p>
    Architecture you want to bootstrap. Currently only i386 is supported.
    Defaults to the architecture that is currently running on your system. If
    you&#8217;re running an amd64 system and want to deploy a i386 system use this option.
    Note: deploying amd64 from a i386 system won&#8217;t work.
</p>
</dd>
<dt class="hdlist1">
<strong>--bootappend</strong> &lt;_appendline for the kernel_&gt;
</dt>
<dd>
<p>
    Specify appendline for the kernel.
    E.g. "<em>pci=nomsi</em>"
</p>
</dd>
<dt class="hdlist1">
<strong>-c</strong>, <strong>--config</strong> &lt;_file_&gt;
</dt>
<dd>
<p>
    Use specified configuration file, defaults to /etc/debootstrap/config.
</p>
</dd>
<dt class="hdlist1">
<strong>--chroot-scripts</strong> &lt;_directory_&gt;
</dt>
<dd>
<p>
    Execute chroot scripts from specified directory. This allows customisation
    of the chroot setup, the executable script(s) present in the given directory
    are executed at the end of the chroot procedure.
    Default directory: /etc/debootstrap/chroot-scripts/
</p>
</dd>
<dt class="hdlist1">
<strong>-d</strong>, <strong>--confdir</strong> &lt;_path_&gt;
</dt>
<dd>
<p>
    Place of configuration files for debootstrap, defaults to /etc/debootstrap.
</p>
</dd>
<dt class="hdlist1">
<strong>--debconf</strong> &lt;_file_&gt;
</dt>
<dd>
<p>
    Use specified file for preseeding Debian packages instead of using
    the default &lt;confdir&gt;/debconf-selections.
</p>
</dd>
<dt class="hdlist1">
<strong>--debopt</strong> &lt;_params_&gt;
</dt>
<dd>
<p>
    Extra parameters passed to the debootstrap command.
</p>
</dd>
<dt class="hdlist1">
<strong>--grub</strong> &lt;_device_&gt;
</dt>
<dd>
<p>
    Device where grub should be installed to. Note that only the MBR (master
    boot record) can be used (/dev/sda, /dev/sdb,&#8230;). Partitions (like
    /dev/sda1, /dev/sdb2,&#8230;) are NOT supported because grub2 doesn&#8217;t support
    installation into the PBR (partition boot record) anymore.  Usage example:
    <em>--grub /dev/sda</em>.  Note: just do not set this option to avoid installation
    of grub.
</p>
</dd>
<dt class="hdlist1">
<strong>--help</strong>, <strong>-h</strong>
</dt>
<dd>
<p>
    Show summary of options and exit.
</p>
</dd>
<dt class="hdlist1">
<strong>--hostname</strong> &lt;_hostname_&gt;
</dt>
<dd>
<p>
    Use specified hostname instead of the default (being <em>grml</em>).
</p>
</dd>
<dt class="hdlist1">
<strong>-i</strong>, <strong>--iso</strong> &lt;_/mntpoint_&gt;
</dt>
<dd>
<p>
    Specify mountpoint where you have a Debian ISO mounted loopback.
    Using this option instead of the mirror option gives you the possibility
    to install the base-system without network access. Make sure you
    mounted the according Debian-ISO to the given &lt;_/mntpoint_&gt;. See section
    <em>Usage examples</em> for a demonstration.
</p>
</dd>
<dt class="hdlist1">
<strong>--keep_src_list</strong>
</dt>
<dd>
<p>
     Do not overwrite user provided /etc/apt/sources.list.
</p>
</dd>
<dt class="hdlist1">
<strong>-m</strong>, <strong>--mirror</strong> &lt;_URL_&gt;
</dt>
<dd>
<p>
    Specify mirror which should be used for apt-get/aptitude.
    Corresponding with configuration variable MIRROR.
</p>
</dd>
<dt class="hdlist1">
<strong>--nodebootstrap</strong>
</dt>
<dd>
<p>
    Skip debootstrap, only do configuration to the target.
</p>
</dd>
<dt class="hdlist1">
<strong>--nopackages</strong>
</dt>
<dd>
<p>
    Skip installation of packages defined in /etc/debootstrap/packages.
</p>
</dd>
<dt class="hdlist1">
<strong>--insecure</strong>
</dt>
<dd>
<p>
    Do not download and check signatures for retrieved Release files.
</p>
</dd>
<dt class="hdlist1">
<strong>-p</strong>, <strong>--mntpoint</strong> &lt;_/mntpoint_&gt;
</dt>
<dd>
<p>
    Specify mountpoint that should be used for mounting the target system.
    Corresponding with configuration variable MNTPOINT.
    Note: this option has no effect if option -t is given and represents a
    directory.
</p>
</dd>
<dt class="hdlist1">
<strong>--packages</strong> &lt;_file_&gt;
</dt>
<dd>
<p>
    Use specified file as list for packages that should be installed instead of
    the default package list file &lt;confdir&gt;/packages.
</p>
</dd>
<dt class="hdlist1">
<strong>--password</strong> &lt;_password_&gt;
</dt>
<dd>
<p>
    Use specified password as password for user root. Use with caution, as your
    commandline might be visible in the process list and the shell history.
    It&#8217;s meant for automatic installation only.
</p>
</dd>
<dt class="hdlist1">
<strong>-r</strong>, <strong>--release</strong> &lt;_releasename_&gt;
</dt>
<dd>
<p>
    Specify release of new Debian system. Supported releases names: lenny,
    squeeze (note: requires current version of debootstrap) and sid.
    Corresponding with configuration variable RELEASE.
</p>
</dd>
<dt class="hdlist1">
<strong>--pre-scripts</strong> &lt;_directory_&gt;
</dt>
<dd>
<p>
    Execute scripts from specified directory before executing the chroot
    script. This allows customisation of the system before the chroot has
    been set up.  The environment variable $MNTPOINT is available inside the
    scripts for direct access of the chroot.
    Default directory: /etc/debootstrap/pre-scripts/
</p>
</dd>
<dt class="hdlist1">
<strong>--scripts</strong> &lt;_directory_&gt;
</dt>
<dd>
<p>
    Execute scripts from specified directory. This allows customisation of
    the system after the chroot has been set up. The environment variable
    $MNTPOINT is available inside the scripts for direct access of the chroot.
    Default directory: /etc/debootstrap/scripts/
</p>
</dd>
<dt class="hdlist1">
<strong>-t</strong>, <strong>--target</strong> &lt;_target_&gt;
</dt>
<dd>
<p>
    Target partition (/dev/&#8230;) or directory (anything else without /dev at the
    beginning). To install grub using <strong>--grub</strong> make sure to use a <em>device</em>
    instead of a directory as <em>target</em> (installation of grub as bootloader when
    using directories is NOT supported).
</p>
</dd>
<dt class="hdlist1">
<strong>-v</strong>, <strong>--verbose</strong>
</dt>
<dd>
<p>
    Increase verbosity.
</p>
</dd>
<dt class="hdlist1">
<strong>-V</strong>, <strong>--version</strong>
</dt>
<dd>
<p>
    Show version of program and exit.
</p>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/warning.png" alt="Warning" />
</td>
<td class="content">the commandline parsing of grml-debootstrap does not validate the provided
arguments for the commandline options. Please be careful and check docs and
/etc/debootstrap/config for further information.</td>
</tr></table>
</div>
</div>
<h2 id="_usage_examples">Usage examples</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre><tt>grml-debootstrap --target /dev/sda1 --grub /dev/sda</tt></pre>
</div></div>
<div class="paragraph"><p>Install default Debian release (stable/lenny) on /dev/sda1 and install bootmanager
Grub in MBR (master boot record) of /dev/sda and use /dev/sda1 as system partition.</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>grml-debootstrap --target /dev/sda6 --grub /dev/sda --release sid</tt></pre>
</div></div>
<div class="paragraph"><p>Install Debian unstable/sid on /dev/sda6, install bootmanager Grub in MBR
(master boot record) of /dev/sda and use /dev/sda6 as system partition.</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>mount /dev/sda1 /data/chroot
grml-debootstrap --target /data/chroot</tt></pre>
</div></div>
<div class="paragraph"><p>Install default Debian release (stable/lenny) in directory /data/chroot (without
any bootloader).</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>grml-debootstrap --target /dev/sda3 --grub /dev/sda  --mirror ftp://ftp.tugraz.at/mirror/debian</tt></pre>
</div></div>
<div class="paragraph"><p>Install default Debian release (stable/lenny) on /dev/sda3 and install bootmanager
Grub in MBR (master boot record) of /dev/sda and use /dev/sda3 as system partition.
Use specified mirror instead of the default (<a href="ftp://ftp.debian.de/debian">ftp://ftp.debian.de/debian</a>) one.</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>mount -o loop /mnt/sda6/debian-40r0-i386-CD-1.iso /mnt/iso
grml-debootstrap --target /dev/sda1 --grub /dev/sda --iso file:/mnt/iso/debian/</tt></pre>
</div></div>
<div class="paragraph"><p>Install Debian stable/lenny on /dev/sda1 using the loopback mounted Debian-ISO
for the base-system and install bootmanager Grub in MBR (master boot record) of
/dev/sda and use /dev/sda1 as system partition. Please notice, that the chroot
system requires network access for all packages which are not part of the
ISO.</p></div>
</div>
<h2 id="_files">Files</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre><tt>/etc/debootstrap/config</tt></pre>
</div></div>
<div class="paragraph"><p>Main configuration file. You have to adjust it according to your needs
if you want to execute grml-debootstrap in the non-interactive mode without
any special command line arguments.</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>/etc/debootstrap/chroot-script</tt></pre>
</div></div>
<div class="paragraph"><p>The script executed within the new Debian system as soon as the main system
has been installed via [c]debootstrap.</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>/etc/debootstrap/locale.gen</tt></pre>
</div></div>
<div class="paragraph"><p>Defines the default locales used for generating locales via locale-gen.</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>/etc/debootstrap/packages</tt></pre>
</div></div>
<div class="paragraph"><p>Defines the software packages which should be installed in the new
Debian system by default.</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>/etc/debootstrap/extrapackages</tt></pre>
</div></div>
<div class="paragraph"><p>Debian Packages dropped here will be installed into the new Debian system by
default (Controlvariable: EXTRAPACKAGES)</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>/etc/debootstrap/stages/</tt></pre>
</div></div>
<div class="paragraph"><p>The default directory for storing information about executed stages. Every
single function of grml-debootstrap will write <em>done</em> to the stages directory
into a file named as the function itself if it has been executed successfully.
You can adjust the location of the directory via configuration variable STAGES
via /etc/debootstrap/config.  Please notice that you have to remove the stages
directory on your own if you want to re-execute grml-debootstrap after running it
successfully once. This should avoid recurrent execution by error of
grml-debootstrap (which might delete present data).</p></div>
</div>
<h2 id="_customization">Customization</h2>
<div class="sectionbody">
<div class="paragraph"><p>You can control execution of grml-debootstrap via adjusting
/etc/debootstrap/config for some main stuff or via setting some selected
variables via commandline.  The packages which should be installed in the new
Debian system can be defined via the file /etc/debootstrap/packages.  If you
want to put existing files to the new Debian system you can place them into the
(by default non-existing) directories boot, etc, share, usr and var in
/etc/debootstrap/. Every existing directory will be copied to the new Debian
system then. If you want to install additional packages that are not available
via the grml or debian mirror drop them into /etc/debootstrap/extrapackages and
make sure that EXTRAPACKAGES is set to "yes".</p></div>
</div>
<h2 id="_automatic_installation">Automatic installation</h2>
<div class="sectionbody">
<div class="paragraph"><p>If environment variable AUTOINSTALL is set grml-debootstrap can be executed in a
full automatic mode. While this mode isn&#8217;t really useful for interactive
execution (just configure /etc/debootstrap/configure or specify the relevant
variables on the commandline instead) it is meant for use via bootoption
debian2hd. The bootoption debian2hd (more precise: the kernelname on bootprompt)
supports the following bootoptions (they correspond with the commandline options
mentioned above):</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>target=...</tt></pre>
</div></div>
<div class="paragraph"><p>The target partition/directory of the new Debian system. Usage example:
target=/dev/sda1</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>grub=...</tt></pre>
</div></div>
<div class="paragraph"><p>Where do you want to install grub to? Usage example: grub=/dev/sda</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>release=...</tt></pre>
</div></div>
<div class="paragraph"><p>Specify release of new Debian system. Defaults to Debian stable.  Supported
relases: lenny, squeeze and sid. Usage example: release=sid</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>mirror=...</tt></pre>
</div></div>
<div class="paragraph"><p>Specify mirror which should be used for apt-get/aptitude instead
of the default one (<a href="ftp://ftp.debian.de/debian">ftp://ftp.debian.de/debian</a>).
Usage example: mirror=ftp://ftp.tugraz.at/mirror/debian</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>password=...</tt></pre>
</div></div>
<div class="paragraph"><p>Set password of user root without prompting for it but set it to the given
argument. Usage example: password=AiTh5ahn</p></div>
<h3 id="_usage_example_for_automatic_installation">Usage example for automatic installation:</h3><div style="clear:left"></div>
<div class="literalblock">
<div class="content">
<pre><tt>debian2hd target=/dev/sda1 grub=/dev/sda mirror=ftp://ftp.tugraz.at/mirror/debian password=foobar</tt></pre>
</div></div>
<div class="paragraph"><p>You have to enter this commandline at the bootprompt of grml. Please make sure
that /dev/sda1 is the partition where you really want to install your new Debian
system.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Automatic installation within booting process is done in grml-autoconfig via
setting environment variable AUTOINSTALL and creation of
/usr/bin/grml-debootstrap_noninteractive with the available and relevant
bootoptions for grml-debootstrap.</td>
</tr></table>
</div>
</div>
<h2 id="_supported_releases">Supported Releases</h2>
<div class="sectionbody">
<div class="tableblock">
<table rules="all"
frame="hsides"
cellspacing="0" cellpadding="4">
<caption class="title">TableCurrent status</caption>
<col width="114" />
<col width="205" />
<col width="182" />
<thead>
  <tr>
    <th align="right">
    Release /
    </th>
    <th align="center">
    Tool  debootstrap
    </th>
    <th align="center">
    cdebootstrap
    </th>
  </tr>
</thead>
<tbody valign="top">
  <tr>
    <td align="right">
    Lenny
    </td>
    <td align="center">
    works
    </td>
    <td align="center">
    works
    </td>
  </tr>
  <tr>
    <td align="right">
    Squeeze
    </td>
    <td align="center">
    works
    </td>
    <td align="center">
    works
    </td>
  </tr>
  <tr>
    <td align="right">
    Sid
    </td>
    <td align="center">
    works
    </td>
    <td align="center">
    works
    </td>
  </tr>
</tbody>
</table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="title">Etch-Release</div>
<div class="paragraph"><p>[1] Please notice that Etch is the current old-stable within Debian.
grml-debootstrap can handle the release but you really should not use Etch
anymore unless you really know what you are doing. Choose Lenny instead.</p></div>
</td>
</tr></table>
</div>
</div>
<h2 id="_bugs">Bugs</h2>
<div class="sectionbody">
<div class="paragraph"><p>Probably. Please send bugreports to Michael Prokop &lt;<a href="mailto:mika@grml.org">mika@grml.org</a>&gt;.</p></div>
</div>
<h2 id="_see_also">See also</h2>
<div class="sectionbody">
<div class="paragraph"><p>debootstrap (8), cdebootstrap (1).</p></div>
</div>
<h2 id="_author">Author</h2>
<div class="sectionbody">
<div class="paragraph"><p>Michael Prokop &lt;<a href="mailto:mika@grml.org">mika@grml.org</a>&gt;</p></div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2010-02-23 00:21:26 CEST
</div>
</div>
</body>
</html>
